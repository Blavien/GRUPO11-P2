Index: src/main/java/Client.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import javax.crypto.SecretKey;\r\nimport java.io.*;\r\nimport java.math.BigInteger;\r\nimport java.net.Socket;\r\nimport java.nio.file.Files;\r\nimport java.security.KeyPair;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\nimport java.security.KeyPair;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\n\r\n/**\r\n * This class represents the client. The client sends the messages to the server by means of a socket. The use of Object\r\n * streams enables the sender to send any kind of object.\r\n */\r\npublic class Client {\r\n    private static final String HOST = \"0.0.0.0\";\r\n    private final Socket client;\r\n    private final ObjectInputStream in;\r\n    private final ObjectOutputStream out;\r\n    private boolean isConnected;\r\n    private String client_name;\r\n    private PrivateKey privateKey;\r\n    private PublicKey publicKey;\r\n    private SecretKey macKey;\r\n    private int requestLimit;\r\n    private String fileName;\r\n    private PublicKey serverPublicRSAKey;\r\n    private static final Scanner scan = new Scanner(System.in);\r\n    private BigInteger sharedSecret;\r\n    private ArrayList<Integer> choice;       // get(0) - Hashing algorithm       get(1) - Encryption algorithm\r\n    private static String DIGEST_ALGORITHM = \"\";\r\n    /**\r\n     * Constructs a Client object by specifying the port to connect to. The socket must be created before the sender can\r\n     * send a message.\r\n     *\r\n     * @param port the port to connect to\r\n     * @throws IOException when an I/O error occurs when creating the socket\r\n     */\r\n    public Client(int port) throws Exception {\r\n        this.requestLimit = 0;\r\n\r\n        client = new Socket ( HOST , port );\r\n\r\n        out = new ObjectOutputStream ( client.getOutputStream ( ) );\r\n\r\n        in = new ObjectInputStream ( client.getInputStream ( ) );\r\n\r\n        isConnected = true; // TODO: Check if this is necessary or if it should be controlled\r\n\r\n        System.out.println(\"\\nInsert your username\");\r\n        String name = scan.nextLine();\r\n\r\n\r\n        this.client_name = name;\r\n\r\n        RSA.storeRSAKeys ( RSA.generateKeyPair() , client_name);\r\n\r\n        this.setPrivateKey();\r\n        this.setPublicKey();\r\n\r\n\r\n\r\n    }\r\n    public String getClientName() {\r\n        return client_name;\r\n    }\r\n    public void setClientName(String client_name){\r\n        this.client_name = client_name;\r\n    }\r\n    public void setPrivateKey() throws Exception{ this.privateKey = RSA.getPrivateKey(this.client_name); }\r\n    public void setPublicKey() throws Exception{ this.publicKey = RSA.getPublicKey(this.client_name); }\r\n    public void setFileName(String request){\r\n        this.fileName = request;\r\n    }\r\n\r\n    public String getFileName() {\r\n        return this.fileName;\r\n    }\r\n\r\n    public void setConnected(boolean bool) {\r\n        this.isConnected = bool;\r\n    }\r\n\r\n\r\n\r\n    public boolean doHandshake() throws Exception {\r\n        boolean handshakeInsuccess = false;\r\n        boolean invalid_choice_hashing = false;\r\n        boolean invalid_choice_encryption = false;\r\n        choice = new ArrayList<Integer>(); //Array novo sempre que isto é chamado\r\n\r\n        System.out.println(\"\\nWe will make you set up your commmunication and security, cause I want 20.\");\r\n\r\n        // choice.get(0)\r\n        System.out.println(\"\\nHashing algoritms:\");\r\n        System.out.println(\"0. SHA-512\");\r\n        System.out.println(\"1. SHA-256\");\r\n        System.out.println(\"2. SHA-1\");\r\n        System.out.println(\"3. MD5\");\r\n        System.out.println(\"4. 2048 eggs & bacon\");\r\n        System.out.println(\"5. EFFICIENCY IS OVERRATED\");\r\n        int i = scan.nextInt();\r\n        switch (i){\r\n            case 0:\r\n                DIGEST_ALGORITHM = \"HmacSHA512\";\r\n                choice.add(0); // [0] = 0\r\n                break;\r\n            case 1:\r\n                DIGEST_ALGORITHM = \"HmacSHA256\";\r\n                choice.add(1); // [0] = 1\r\n                break;\r\n            case 2:\r\n                DIGEST_ALGORITHM = \"HmacSHA1\";\r\n                choice.add(2); // [0] = 2\r\n                break;\r\n            case 3:\r\n                DIGEST_ALGORITHM = \"HmacMD5\";\r\n                choice.add(3); // [0] = 3\r\n                break;\r\n            case 4:\r\n                invalid_choice_hashing = true;\r\n                break;\r\n            case 5:\r\n                invalid_choice_hashing = true;\r\n                break;\r\n        }\r\n        // choice.get(1)\r\n        System.out.println(\"\\nEncryption/Decryption algoritms:\");\r\n        System.out.println(\"0. AES\");\r\n        System.out.println(\"1. DES\");\r\n        System.out.println(\"2. 3DES\");\r\n        System.out.println(\"3. 360-no-scope-DES\");\r\n        i = scan.nextInt();\r\n        switch (i){\r\n            case 0:\r\n                choice.add(0); // [1] = 0\r\n                break;\r\n            case 1:\r\n                choice.add(1); // [1] = 1\r\n                break;\r\n            case 2:\r\n                choice.add(2); // [1] = 2\r\n                break;\r\n            case 3:\r\n                invalid_choice_encryption = true;\r\n                break;\r\n        }\r\n\r\n        //Faz o handshake\r\n        if(invalid_choice_hashing == false && invalid_choice_encryption == false){\r\n            serverPublicRSAKey = rsaKeyDistribution();\r\n\r\n            sharedSecret = agreeOnSharedSecret ( serverPublicRSAKey );\r\n\r\n            this.macKey = Hmac.createMACKey(DIGEST_ALGORITHM);\r\n\r\n            //System.out.println(choice);\r\n            sendClientChoice();\r\n\r\n            sendMacKey();\r\n\r\n        }else{\r\n            handshakeInsuccess = true;\r\n            System.out.println(\"This server doesn't support those algorithms.\");\r\n        }\r\n        return handshakeInsuccess;\r\n    }\r\n    public void sendClientChoice() throws IOException {\r\n        out.writeObject(choice);\r\n        out.flush ();\r\n    }\r\n    public void endConnection() throws Exception {\r\n        this.closeConnection();\r\n    }\r\n\r\n    /**\r\n     * Reads the response from the server and writes the file to the temporary directory.\r\n     *\r\n     * @param fileName the name of the file to write\r\n     */\r\n    private void processResponse(String fileName) throws Exception {\r\n        String unitedMessage = \"\";\r\n\r\n        //BigInteger sharedSecret = agreeOnSharedSecret(serverPublicRSAKey);\r\n        Message response = (Message) in.readObject();\r\n        byte[] decryptedFile = null;\r\n        //CRYPTO\r\n        if(choice.get(1) == 0) {\r\n            decryptedFile = AES.decrypt(response.getMessage(), sharedSecret.toByteArray());\r\n        }\r\n        if(choice.get(1) == 1){\r\n            decryptedFile = DES.decrypt(response.getMessage(), sharedSecret.toByteArray());\r\n        }\r\n        if(choice.get(1) == 2){\r\n            decryptedFile = DES3.decrypt(response.getMessage(), sharedSecret.toByteArray());\r\n        }\r\n        //HASHING\r\n        byte[] computedDigest = Hmac.hmac(decryptedFile,DIGEST_ALGORITHM, macKey.getEncoded());\r\n        if (!Hmac.verifyDigest(response.getSignature(), computedDigest)) {\r\n                throw new RuntimeException(\"The integrity of the message is not verified\");\r\n\r\n        }\r\n\r\n        String decryptedContent = new String(decryptedFile);  // To handle divided content\r\n\r\n        if (decryptedContent.equals(\"INICIO\")) { //Decrypts this first message - INICIO\r\n\r\n            while (!decryptedContent.equals(\"FIM\")){ //Decrypts the rest of the message until we get the last message - FIM\r\n\r\n                response = (Message) in.readObject();\r\n                //CRYPTO $$\r\n                if(choice.get(1) == 0) {\r\n                    decryptedFile = AES.decrypt(response.getMessage(), sharedSecret.toByteArray());\r\n                }\r\n                if(choice.get(1) == 1){\r\n                    decryptedFile = DES.decrypt(response.getMessage(), sharedSecret.toByteArray());\r\n                }\r\n                if(choice.get(1) == 2){\r\n                    decryptedFile = DES3.decrypt(response.getMessage(), sharedSecret.toByteArray());\r\n                }\r\n\r\n                //HASHING\r\n                computedDigest = Hmac.hmac(decryptedFile,DIGEST_ALGORITHM, macKey.getEncoded());\r\n                if (!Hmac.verifyDigest(response.getSignature(), computedDigest)) {\r\n                    throw new RuntimeException(\"The integrity of the message is not verified\");\r\n                }\r\n\r\n                decryptedContent = new String(decryptedFile);\r\n\r\n                if(!decryptedContent.equals(\"FIM\")) {\r\n                    unitedMessage += new String(decryptedFile);\r\n                }\r\n            }\r\n            System.out.println(\"We have reached the end of the file content.\");\r\n\r\n            System.out.println(\"This is the file content:\");\r\n\r\n            System.out.println(new String (unitedMessage));\r\n            saveFiles(unitedMessage);\r\n\r\n        }else{\r\n            if(!decryptedContent.equals(\"FIM\")) {\r\n                System.out.println(\"\\nThis is the file content:\");\r\n\r\n                System.out.println(new String (decryptedFile));\r\n\r\n                saveFiles(new String(decryptedFile));\r\n            }\r\n        }\r\n    }\r\n\r\n    public void saveFiles(String decryptedFile) throws Exception{\r\n        //Criação da pasta que receberá os ficheiros\r\n        String privateClientPath = this.client_name + \"/files\";\r\n        File privateClientFolder = new File(privateClientPath);\r\n        privateClientFolder.mkdirs();\r\n\r\n        //Criação do ficheiro de texto que receberá o conteúdo do ficheiro de texto pedido e a escrita do mesmo\r\n        String decryptedFileString = decryptedFile;\r\n        File arquivo = new File(this.client_name + \"/files/User_\" + this.getFileName());\r\n        BufferedWriter bw = new BufferedWriter(new FileWriter(arquivo));\r\n        bw.write(decryptedFileString);\r\n        bw.close();\r\n    }\r\n    /**\r\n     * Closes the connection by closing the socket and the streams.\r\n     */\r\n    private void closeConnection ( ) {\r\n        try {\r\n            client.close ( );\r\n            out.close ( );\r\n            in.close ( );\r\n        } catch ( IOException e ) {\r\n            throw new RuntimeException ( e );\r\n        }\r\n    }\r\n\r\n    private void sendPublicDHKey ( byte[] publicKey ) throws Exception {\r\n        out.writeObject ( publicKey );\r\n    }\r\n\r\n    private PublicKey rsaKeyDistribution ( ) throws Exception {\r\n        // Sends the public key\r\n        sendPublicRSAKey ( );\r\n        // Receive the public key of the sender\r\n        return ( PublicKey ) in.readObject ( );\r\n    }\r\n\r\n    private void sendPublicRSAKey ( ) throws IOException {\r\n        out.writeObject ( publicKey );\r\n        out.flush ( );\r\n    }\r\n    private void sendMacKey() throws Exception{\r\n        out.writeObject(macKey);\r\n        out.flush ();\r\n    }\r\n    public void sendMessage ( String message ) throws Exception {\r\n        // Agree on a shared secret\r\n        // BigInteger sharedSecret = agreeOnSharedSecret ( serverPublicRSAKey );\r\n        // Encrypts the message\r\n        byte[] encryptedMessage = null;\r\n        if(choice.get(1) == 0){ //AES\r\n            encryptedMessage = AES.encrypt ( message.getBytes ( ) , sharedSecret.toByteArray ( ) );\r\n        }\r\n        if(choice.get(1) == 1){ //DES\r\n            encryptedMessage = DES.encrypt ( message.getBytes ( ) , sharedSecret.toByteArray ( ) );\r\n        }\r\n        if(choice.get(1) == 2){\r\n            encryptedMessage = DES3.encrypt(message.getBytes(), sharedSecret.toByteArray());\r\n        }\r\n\r\n        byte[] digest = Hmac.hmac(message.getBytes ( ), DIGEST_ALGORITHM,macKey.getEncoded());\r\n\r\n        // Creates the message object\r\n        Message messageObj = new Message ( encryptedMessage , digest );\r\n        // Sends the encrypted message\r\n        out.writeObject ( messageObj );\r\n        out.flush();\r\n\r\n    }\r\n    private BigInteger agreeOnSharedSecret (PublicKey serverPublicRSAKey ) throws Exception {\r\n        // Generates a private key\r\n        BigInteger privateDHKey = DiffieHellman.generatePrivateKey ( );\r\n        BigInteger publicDHKey = DiffieHellman.generatePublicKey ( privateDHKey );\r\n        // Sends the public key to the server encrypted\r\n        sendPublicDHKey ( RSA.encryptRSA ( publicDHKey.toByteArray ( ) , privateKey ) );\r\n        // Waits for the server to send his public key\r\n        BigInteger serverPublicKey = new BigInteger ( RSA.decryptRSA ( ( byte[] ) in.readObject ( ) , serverPublicRSAKey ) );\r\n        // Generates the shared secret\r\n        return DiffieHellman.computePrivateKey ( serverPublicKey , privateDHKey );\r\n    }\r\n\r\n    /**\r\n     * Executes the client. It reads the file from the console and sends it to the server. It waits for the response and\r\n     * writes the file to the temporary directory.\r\n     */\r\n    public void execute(String test) throws Exception{\r\n        Scanner usrInput = new Scanner ( System.in );\r\n        if( isConnected ) {\r\n            String request=\"\";\r\n            // Reads the message to extract the path of the file\r\n            System.out.println ( \"Write the path of the file\" );\r\n            if(test!=\"\"){\r\n                request = \"USERNAME: \"+this.client_name+ \": GET : \"+ test ;\r\n            }\r\n            if(test==\"\"){\r\n            request = \"USERNAME: \"+this.client_name+ \": \"+usrInput.nextLine ( );\r\n            }\r\n            this.setFileName(RequestUtils.splitRequest(request).get(1));\r\n            // Request the file\r\n            sendMessage ( request );\r\n            // Waits for the response\r\n            processResponse ( RequestUtils.getFileNameFromRequest ( request ) );\r\n        }\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/Client.java b/src/main/java/Client.java
--- a/src/main/java/Client.java	(revision 8e7b48432ce98f6dc055f4b5b9e68dc394295157)
+++ b/src/main/java/Client.java	(date 1683714915915)
@@ -357,4 +357,10 @@
     }
 
 
+    public PrivateKey getPrivateKey() throws Exception {
+        return RSA.getPrivateKey(this.client_name);
+    }
+    public PublicKey getPublicKey() throws Exception {
+        return RSA.getPublicKey(this.client_name);
+    }
 }
\ No newline at end of file
Index: text-file-server.iml
===================================================================
diff --git a/text-file-server.iml b/text-file-server.iml
deleted file mode 100644
--- a/text-file-server.iml	(revision 8e7b48432ce98f6dc055f4b5b9e68dc394295157)
+++ /dev/null	(revision 8e7b48432ce98f6dc055f4b5b9e68dc394295157)
@@ -1,27 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<module external.system.module.type="SINGLE_MODULE" org.jetbrains.idea.maven.project.MavenProjectsManager.isMavenModule="true" type="JAVA_MODULE" version="4">
-  <component name="NewModuleRootManager" LANGUAGE_LEVEL="JDK_17">
-    <output url="file://$MODULE_DIR$/target/classes" />
-    <output-test url="file://$MODULE_DIR$/target/test-classes" />
-    <content url="file://$MODULE_DIR$">
-      <sourceFolder url="file://$MODULE_DIR$/src/main/resources" type="java-resource" />
-      <sourceFolder url="file://$MODULE_DIR$/src/test/resources" type="java-test-resource" />
-      <sourceFolder url="file://$MODULE_DIR$/target/generated-sources/annotations" isTestSource="false" generated="true" />
-      <sourceFolder url="file://$MODULE_DIR$/src/main/java" isTestSource="false" />
-      <sourceFolder url="file://$MODULE_DIR$/src/test/java" isTestSource="true" />
-      <excludeFolder url="file://$MODULE_DIR$/target" />
-    </content>
-    <orderEntry type="inheritedJdk" />
-    <orderEntry type="sourceFolder" forTests="false" />
-    <orderEntry type="library" scope="TEST" name="Maven: org.junit.jupiter:junit-jupiter:5.9.3" level="project" />
-    <orderEntry type="library" scope="TEST" name="Maven: org.junit.jupiter:junit-jupiter-api:5.9.3" level="project" />
-    <orderEntry type="library" scope="TEST" name="Maven: org.opentest4j:opentest4j:1.2.0" level="project" />
-    <orderEntry type="library" scope="TEST" name="Maven: org.junit.platform:junit-platform-commons:1.9.3" level="project" />
-    <orderEntry type="library" scope="TEST" name="Maven: org.apiguardian:apiguardian-api:1.1.2" level="project" />
-    <orderEntry type="library" scope="TEST" name="Maven: org.junit.jupiter:junit-jupiter-params:5.9.3" level="project" />
-    <orderEntry type="library" scope="TEST" name="Maven: org.junit.jupiter:junit-jupiter-engine:5.9.3" level="project" />
-    <orderEntry type="library" scope="TEST" name="Maven: org.junit.platform:junit-platform-engine:1.9.3" level="project" />
-    <orderEntry type="library" scope="TEST" name="Maven: junit:junit:4.13.1" level="project" />
-    <orderEntry type="library" scope="TEST" name="Maven: org.hamcrest:hamcrest-core:1.3" level="project" />
-  </component>
-</module>
\ No newline at end of file
Index: Sara/private/privateKey.key
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Sara/private/privateKey.key b/Sara/private/privateKey.key
new file mode 100644
--- /dev/null	(date 1683714759352)
+++ b/Sara/private/privateKey.key	(date 1683714759352)
@@ -0,0 +1,7 @@
+�� sr java.security.KeyRep��O����C L 	algorithmt Ljava/lang/String;[ encodedt [BL formatq ~ L typet Ljava/security/KeyRep$Type;xpt RSAur [B���T�  xp  �0�� 0
+	*�H��
+ ��0�� � ���ny���֩е-��{%J9���j��ZJ����E�݈�����&ۂyi@��;�`a^uW�`�j�H���7~zJF�#���#s���c�Z�X�V;��ִ݈s�yp��鴵be����ȼ>���M�,o=�/�Mu�J��Z�L(���ur>�Q��w��Gq(.gmp�P:p����z�ĉ���A�p���<KB�OY9�?���3̘N��%���?��׊���"vO��������k�D����q3���pH�P�} � ɷ�������u� �H����;�!n����پ�/Q��b�ل�S�K�X���������I�H3O��,nI�a�Lv'h8�@ɢ�9BEI��{�R��`���MX��ڂe� �-�J) ��3�
+Y�*T�1Dٓ�{nff����,�u3�H��w��o�����f� ��>_�s�(di0������!,"f}ꊂ���[�����!�B$!w����7�'�e�eQ��B���?�ǒ��c� d!��v��c#�i�� �S6w��G�A�i���W�	��
+У)w�֪��ϣ���Rn�Aм�C���~�ݰC��/A���*:�Q���A�>�#����/�]��2�T���� 1s�+)V�k]�"��u�!�2�V��� ��[�A^`4Y$%_��ۢ�M�n/�m;�Bɲ�5�����s�@��Z�1�=Ok�ϛדGt���T��ңk	�D�����=�	7��w'CN6�[j�jځc�l���q^2� �� W��)�W#�� ڙY�:#�f~���^h'B�M���٬CS�E8{��.��m���5ֆP �΍��v�j�����L�r�Y�0�̙��fa����G<�4Vw0Yuڎ<f.⮤�ڃ��3�f��d����/�5�T��{�!��L���5a�3�d.��9Ƣ2�v�Ozvw�������Ϸc���p�⒦6�YN3���Wy����:�!��9�~�7��1ƽ��Pkh��-�uy����72�Գu4�&���~rp{"�,i�dn���� �
+�Y�%F
+nnW��<�ƢQl��zV��̦�3���h��s [$�o�b���:~�ˁ�G�UHrؘ�-z���R1�`#�=]Y�c!��ڞ�W����wpT�CѸ۔�E��W�a�$Ѥ���إ����t PKCS#8~r java.security.KeyRep$Type          xr java.lang.Enum          xpt PRIVATE
\ No newline at end of file
Index: Saaara/files/User_Buenas.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Saaara/files/User_Buenas.txt b/Saaara/files/User_Buenas.txt
new file mode 100644
--- /dev/null	(date 1683714563122)
+++ b/Saaara/files/User_Buenas.txt	(date 1683714563122)
@@ -0,0 +1,1 @@
+Hallo
\ No newline at end of file
Index: Saaara/private/privateKey.key
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Saaara/private/privateKey.key b/Saaara/private/privateKey.key
new file mode 100644
--- /dev/null	(date 1683714552730)
+++ b/Saaara/private/privateKey.key	(date 1683714552730)
@@ -0,0 +1,6 @@
+�� sr java.security.KeyRep��O����C L 	algorithmt Ljava/lang/String;[ encodedt [BL formatq ~ L typet Ljava/security/KeyRep$Type;xpt RSAur [B���T�  xp  �0�� 0
+	*�H��
+ ��0�� � ���q0)�������e1^P�<�w���.�&nv�yk�V�ǒt�:�R��MqE����o�g��\a�
+�?z
+���l��K�O6 N .h�t�z���h�������3����B���ф��m������L4h�c��M[�|�2<�dᭊ�#ta�x��ۊh��უ�"�O�|�C���ԡ7@ߊ��u&� �X��s�]]8vE<R��v	���(���r�����eϻ���K��X�n_�h�Q � q�ȶ��@�����1�� ;9���/�>X�)��YB8�A
+?�b$��6����ߩY��Lx`�������-A��>F�D��cXҤNHO�b:ulNa2��7��5���5�d҄+g4�(���l�/�e�	���XC�2p�A�`_��ߘ6z�2�?cK4�	p��J�Ҫd	~Tݹ62Q��T&]��.T�?<Jq���C��܋N��fF����Jg#m/�v�x]��0{��}���e��!6z� �=i����� �Pq2�w����[�ܠ�i^�����wXz������0*��vg{���"�R�Z��](��"Z#s����&��`���#z��>n'�n�deh�`-��뗪!D���� �ĺ��L��b�T1��[�� �m S"	[+$>����p��&�e�.�A��F�S��P����=�%"ۺ�C��%�1I��_"��gT2��+*��)j�4T	e�YS\��l�����ĺ#+>t[��fz�A��>lP���V��"���Ly}����E9���=�GV6�M���ز.���:�'�vE3��E-͐0Rb\�Hg�������Ol��QFn��|z�*6����R��'�#�7jr3U�r6�1 ?�\:���!-���M��} u~�9�v�s�� �Ժ�Eg���St����kgӣ:k�=�v�(A�p���j�L�* L.g�4V��%�1���'��C\(�D�G�&�ǎ�>8f�ގ�k�m�h�A�t��,���S#Y)x���r��*��7l�*��^z�*���QQ&̶J�Z�8����!d�!+v�Wk�u�������D9������F��U����e���.^`x�����^�+�.��?0f�C���T��K��)�>��c�����E�].��rx�R����V�}��t PKCS#8~r java.security.KeyRep$Type          xr java.lang.Enum          xpt PRIVATE
\ No newline at end of file
Index: Sara/files/User_bomdia.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Sara/files/User_bomdia.txt b/Sara/files/User_bomdia.txt
new file mode 100644
--- /dev/null	(date 1683714771344)
+++ b/Sara/files/User_bomdia.txt	(date 1683714771344)
@@ -0,0 +1,12 @@
+11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
+222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222
+333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
+44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
+5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555v
+6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
+777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
+8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
+99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
+101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101101010101djqwhiqwdqwhdwq
+
+%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ No newline at end of file
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"75ea87d5-b57d-45a4-9edf-2445a379a4bb\" name=\"Changes\" comment=\"add : Algoritmos de Hashing SHA-256, SHA-1 e MD5 adicionados\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/MainClient.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/MainClient.java\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"27585525b1c9cccd742f9e3f391a61ed17ccf847\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">\r\n    <option name=\"selectedUrlAndAccountId\">\r\n      <UrlAndAccount>\r\n        <option name=\"accountId\" value=\"d9ae9e3a-aeae-4410-8220-12bf4abc6f49\" />\r\n        <option name=\"url\" value=\"https://github.com/Blavien/GRUPO11-P2.git\" />\r\n      </UrlAndAccount>\r\n    </option>\r\n  </component>\r\n  <component name=\"HighlightingSettingsPerFile\">\r\n    <setting file=\"file://$USER_HOME$/AppData/Local/Temp/tmp_1_MainClient.class\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"file://$USER_HOME$/AppData/Local/Temp/tmp_2_MainClient.class\" root0=\"FORCE_HIGHLIGHTING\" />\r\n    <setting file=\"file://$USER_HOME$/AppData/Local/Temp/tmp__MainClient.class\" root0=\"FORCE_HIGHLIGHTING\" />\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"MavenImportPreferences\">\r\n    <option name=\"generalSettings\">\r\n      <MavenGeneralSettings>\r\n        <option name=\"useMavenConfig\" value=\"true\" />\r\n      </MavenGeneralSettings>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"2OZI9lUTFU9VIBDlzStD235WKeS\" />\r\n  <component name=\"ProjectLevelVcsManager\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;ASKED_ADD_EXTERNAL_FILES&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;ignore.virus.scanning.warn.message&quot;: &quot;true&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;C:/Users/User/Desktop/LEI 3 ANO/2 semestre/PA/GRUPO11-P2&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;reference.settings.project.maven.importing&quot;\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\User\\Desktop\\LEI 3 ANO\\2 semestre\\PA\\GRUPO11-P2\\AAAEAEA\" />\r\n      <recent name=\"C:\\Users\\User\\Desktop\\LEI 3 ANO\\2 semestre\\PA\\GRUPO11-P2\\AAD\" />\r\n      <recent name=\"C:\\Users\\User\\Desktop\\LEI 3 ANO\\2 semestre\\PA\\GRUPO11-P2\\ANN\" />\r\n      <recent name=\"C:\\Users\\User\\Desktop\\LEI 3 ANO\\2 semestre\\PA\\GRUPO11-P2\\FER\" />\r\n      <recent name=\"C:\\Users\\User\\Desktop\\LEI 3 ANO\\2 semestre\\PA\\GRUPO11-P2\\FRE\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\User\\Desktop\\LEI 3 ANO\\2 semestre\\PA\\GRUPO11-P2\\server\" />\r\n      <recent name=\"C:\\Users\\User\\Desktop\\LEI 3 ANO\\2 semestre\\PA\\GRUPO11-P2\\server\\files\\Registry\" />\r\n      <recent name=\"C:\\Users\\User\\Desktop\\LEI 3 ANO\\2 semestre\\PA\\GRUPO11-P2\" />\r\n    </key>\r\n    <key name=\"ExtractSuperBase.RECENT_KEYS\">\r\n      <recent name=\"\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"Client\" type=\"Application\" factoryName=\"Application\">\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"MainClient\" />\r\n      <module name=\"text-file-server\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"Server\" type=\"Application\" factoryName=\"Application\">\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"MainServer\" />\r\n      <module name=\"text-file-server\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration default=\"true\" type=\"JetRunConfigurationType\">\r\n      <module name=\"GRUPO11-P2\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration default=\"true\" type=\"KotlinStandaloneScriptRunConfigurationType\">\r\n      <module name=\"GRUPO11-P2\" />\r\n      <option name=\"filePath\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <list>\r\n      <item itemvalue=\"Application.Server\" />\r\n      <item itemvalue=\"Application.Client\" />\r\n    </list>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"75ea87d5-b57d-45a4-9edf-2445a379a4bb\" name=\"Changes\" comment=\"\" />\r\n      <created>1681761527297</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1681761527297</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"add: Base project\">\r\n      <created>1681761625948</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1681761625948</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"Fix: Structure of project\">\r\n      <created>1681761733271</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1681761733271</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"add: Encrytion/Decryption Algorithms added - AES, RSA, HMACSHA256, Diffie-Hellman, ByteUtils for byte[] manipulation.\">\r\n      <created>1681893641084</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1681893641084</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"&lt;feat&gt; (RSA,Client) :  Requisito 2.1 feito. Geração das keyPairs e armazenamento das mesmas. Teste feito nas chaves e estão correctas.\">\r\n      <created>1682268205147</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1682268205147</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"&lt;feat&gt; (MAC, Digest) :  Geração de chaves únicas, Criação de um HashMap para manter registo dos requests dos clientes\">\r\n      <created>1682280876713</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1682280876713</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"&lt;fix&gt; (RSA) : Correção do nome das chaves públicas\">\r\n      <created>1682281333854</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1682281333854</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"&lt;feat&gt; (RSA) : Armazenamento das chaves do servidor\">\r\n      <created>1682422326566</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1682422326566</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"&lt;feat&gt; (Server, Requests, Registry) : Adicionada uma maneira de saber qual o utilizador que fez o request e como manter registo do número de requests\">\r\n      <created>1682445150617</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1682445150618</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"&lt;fix&gt; (ClientHandler,RequestsUtils) : Movido o código que estava a gerir os requests no ClientHandler para o RequestUtils\">\r\n      <created>1682496666117</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1682496666117</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"&lt;fix&gt; (Server,RequestsUtils) : Code clean up, alterado o valor do contador de requests para 0 invés de 1\">\r\n      <created>1682497724289</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1682497724289</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"&lt;fix&gt; (Server) :\">\r\n      <created>1682950676063</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1682950676063</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"&lt;add&gt; (Server) : Registry\">\r\n      <created>1682951038068</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1682951038068</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"&lt;add&gt; (Client) : Sessões etão implementadas, e o cliente é obrigado a iniciar a sessão de novo para continuar a pedir ficheiros\">\r\n      <created>1682954743405</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1682954743405</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"merge 2\">\r\n      <created>1683369397578</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683369397578</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"Controlo de Sessões não está a funcionar, mas esta versão funciona ligeriamente\">\r\n      <created>1683410000968</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683410000968</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"feat : Sessões implementadas corretamente.\">\r\n      <created>1683490372429</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683490372429</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"feat : add client code\">\r\n      <created>1683490444909</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683490444909</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"Código feito pelo professor Diogo Freitas\">\r\n      <created>1683542047228</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683542047228</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00019\" summary=\"Código feito pelo professor Diogo Freitas\">\r\n      <created>1683542214418</created>\r\n      <option name=\"number\" value=\"00019\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683542214418</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00020\" summary=\"feat : Partilha da chave MAC entre client e clientHandler. Code cleanup\">\r\n      <created>1683546047474</created>\r\n      <option name=\"number\" value=\"00020\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683546047474</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00021\" summary=\"fix : Correção do funcionamento do mainClient, e adição de código para a prevençao de casos indesejáveis, como a posibilidade de criar um novo cliente com um username 'Sara', quando já existe este cliente 'Sara'\">\r\n      <created>1683549577972</created>\r\n      <option name=\"number\" value=\"00021\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683549577972</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00022\" summary=\"add : Requisito extra em desenvolvimento\">\r\n      <created>1683554945821</created>\r\n      <option name=\"number\" value=\"00022\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683554945821</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00023\" summary=\"add : Requisito extra - MAC e AES funcionam corretamente\">\r\n      <created>1683556446979</created>\r\n      <option name=\"number\" value=\"00023\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683556446979</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00024\" summary=\"feat : Requisito extra - DES e HASH - SHA-512 a funcionar\">\r\n      <created>1683562618370</created>\r\n      <option name=\"number\" value=\"00024\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00024\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683562618370</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00025\" summary=\"feat : Requisito extra - Adicionei o 3DES\">\r\n      <created>1683563634737</created>\r\n      <option name=\"number\" value=\"00025\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00025\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683563634737</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00026\" summary=\"fix : working\">\r\n      <created>1683564825571</created>\r\n      <option name=\"number\" value=\"00026\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00026\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683564825571</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00027\" summary=\"add : Algoritmos de Hashing SHA-256, SHA-1 e MD5 adicionados\">\r\n      <created>1683567453619</created>\r\n      <option name=\"number\" value=\"00027\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00027\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1683567453619</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"28\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State>\r\n              <option name=\"FILTERS\">\r\n                <map>\r\n                  <entry key=\"branch\">\r\n                    <value>\r\n                      <list>\r\n                        <option value=\"dev-Felicidade\" />\r\n                      </list>\r\n                    </value>\r\n                  </entry>\r\n                </map>\r\n              </option>\r\n            </State>\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n    <MESSAGE value=\"add: Encrytion/Decryption Algorithms added - AES, RSA, HMACSHA256, Diffie-Hellman, ByteUtils for byte[] manipulation.\" />\r\n    <MESSAGE value=\"&lt;feat&gt; (RSA,Client) :  Requisito 2.1 feito. Geração das keyPairs e armazenamento das mesmas. Teste feito nas chaves e estão correctas.\" />\r\n    <MESSAGE value=\"&lt;feat&gt; (MAC, Digest) :  Geração de chaves únicas, Criação de um HashMap para manter registo dos requests dos clientes\" />\r\n    <MESSAGE value=\"&lt;fix&gt; (RSA) : Correção do nome das chaves públicas\" />\r\n    <MESSAGE value=\"&lt;feat&gt; (RSA) : Armazenamento das chaves do servidor\" />\r\n    <MESSAGE value=\"&lt;feat&gt; (Server, Requests, Registry) : Adicionada uma maneira de saber qual o utilizador que fez o request e como manter registo do número de requests\" />\r\n    <MESSAGE value=\"&lt;fix&gt; (ClientHandler,RequestsUtils) : Movido o código que estava a gerir os requests no ClientHandler para o RequestUtils\" />\r\n    <MESSAGE value=\"&lt;fix&gt; (Server,RequestsUtils) : Code clean up, alterado o valor do contador de requests para 0 invés de 1\" />\r\n    <MESSAGE value=\"&lt;fix&gt; (Server) :\" />\r\n    <MESSAGE value=\"&lt;add&gt; (Server) : Registry\" />\r\n    <MESSAGE value=\"&lt;add&gt; (Client) : Sessões etão implementadas, e o cliente é obrigado a iniciar a sessão de novo para continuar a pedir ficheiros\" />\r\n    <MESSAGE value=\"merge: dev-Sara &amp; dev-AndreGois\" />\r\n    <MESSAGE value=\"merge 2\" />\r\n    <MESSAGE value=\"Controlo de Sessões não está a funcionar, mas esta versão funciona ligeriamente\" />\r\n    <MESSAGE value=\"feat : Sessões implementadas corretamente.\" />\r\n    <MESSAGE value=\"feat : add client code\" />\r\n    <MESSAGE value=\"Código feito pelo professor Diogo Freitas\" />\r\n    <MESSAGE value=\"feat : Partilha da chave MAC entre client e clientHandler. Code cleanup\" />\r\n    <MESSAGE value=\"fix : Correção do funcionamento do mainClient, e adição de código para a prevençao de casos indesejáveis, como a posibilidade de criar um novo cliente com um username 'Sara', quando já existe este cliente 'Sara'\" />\r\n    <MESSAGE value=\"add : Requisito extra em desenvolvimento\" />\r\n    <MESSAGE value=\"add : Requisito extra - MAC e AES funcionam corretamente\" />\r\n    <MESSAGE value=\"feat : Requisito extra - DES e HASH - SHA-512 a funcionar\" />\r\n    <MESSAGE value=\"feat : Requisito extra - Adicionei o 3DES\" />\r\n    <MESSAGE value=\"fix : working\" />\r\n    <MESSAGE value=\"add : Algoritmos de Hashing SHA-256, SHA-1 e MD5 adicionados\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"add : Algoritmos de Hashing SHA-256, SHA-1 e MD5 adicionados\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 8e7b48432ce98f6dc055f4b5b9e68dc394295157)
+++ b/.idea/workspace.xml	(date 1683733186020)
@@ -4,9 +4,22 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="75ea87d5-b57d-45a4-9edf-2445a379a4bb" name="Changes" comment="add : Algoritmos de Hashing SHA-256, SHA-1 e MD5 adicionados">
+    <list default="true" id="75ea87d5-b57d-45a4-9edf-2445a379a4bb" name="Changes" comment="merge dev-Henry">
+      <change afterPath="$PROJECT_DIR$/Saaara/files/User_Buenas.txt" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/Saaara/private/privateKey.key" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/Sara/files/User_bomdia.txt" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/Sara/private/privateKey.key" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_08_05_2023_17_32__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_08_05_2023_17_32__Changes_.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/MainClient.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/MainClient.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Server_G11/private/privateKey.key" beforeDir="false" afterPath="$PROJECT_DIR$/Server_G11/private/privateKey.key" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/server/Registry/registry.txt" beforeDir="false" afterPath="$PROJECT_DIR$/server/Registry/registry.txt" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/ByteUtils.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/ByteUtils.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/Client.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/Client.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/ByteUtils.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/ByteUtils.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/Client.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/Client.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/ClientHandler.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/ClientHandler.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/MainClient.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/MainClient.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/RequestUtils.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/RequestUtils.class" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -91,7 +104,7 @@
       <recent name="" />
     </key>
   </component>
-  <component name="RunManager">
+  <component name="RunManager" selected="JUnit.ClientTest.sendRequestAndWritingFile">
     <configuration name="Client" type="Application" factoryName="Application">
       <option name="MAIN_CLASS_NAME" value="MainClient" />
       <module name="text-file-server" />
@@ -102,6 +115,16 @@
     <configuration name="Server" type="Application" factoryName="Application">
       <option name="MAIN_CLASS_NAME" value="MainServer" />
       <module name="text-file-server" />
+      <method v="2">
+        <option name="Make" enabled="true" />
+      </method>
+    </configuration>
+    <configuration name="ClientTest.sendRequestAndWritingFile" type="JUnit" factoryName="JUnit" temporary="true" nameIsGenerated="true">
+      <module name="text-file-server" />
+      <option name="PACKAGE_NAME" value="" />
+      <option name="MAIN_CLASS_NAME" value="ClientTest" />
+      <option name="METHOD_NAME" value="sendRequestAndWritingFile" />
+      <option name="TEST_OBJECT" value="method" />
       <method v="2">
         <option name="Make" enabled="true" />
       </method>
@@ -122,7 +145,13 @@
     <list>
       <item itemvalue="Application.Server" />
       <item itemvalue="Application.Client" />
+      <item itemvalue="JUnit.ClientTest.sendRequestAndWritingFile" />
     </list>
+    <recent_temporary>
+      <list>
+        <item itemvalue="JUnit.ClientTest.sendRequestAndWritingFile" />
+      </list>
+    </recent_temporary>
   </component>
   <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
   <component name="TaskManager">
@@ -322,7 +351,14 @@
       <option name="project" value="LOCAL" />
       <updated>1683567453619</updated>
     </task>
-    <option name="localTasksCounter" value="28" />
+    <task id="LOCAL-00028" summary="merge dev-Henry">
+      <created>1683713728301</created>
+      <option name="number" value="00028" />
+      <option name="presentableId" value="LOCAL-00028" />
+      <option name="project" value="LOCAL" />
+      <updated>1683713728301</updated>
+    </task>
+    <option name="localTasksCounter" value="29" />
     <servers />
   </component>
   <component name="Vcs.Log.Tabs.Properties">
@@ -350,7 +386,6 @@
   </component>
   <component name="VcsManagerConfiguration">
     <option name="ADD_EXTERNAL_FILES_SILENTLY" value="true" />
-    <MESSAGE value="add: Encrytion/Decryption Algorithms added - AES, RSA, HMACSHA256, Diffie-Hellman, ByteUtils for byte[] manipulation." />
     <MESSAGE value="&lt;feat&gt; (RSA,Client) :  Requisito 2.1 feito. Geração das keyPairs e armazenamento das mesmas. Teste feito nas chaves e estão correctas." />
     <MESSAGE value="&lt;feat&gt; (MAC, Digest) :  Geração de chaves únicas, Criação de um HashMap para manter registo dos requests dos clientes" />
     <MESSAGE value="&lt;fix&gt; (RSA) : Correção do nome das chaves públicas" />
@@ -375,6 +410,18 @@
     <MESSAGE value="feat : Requisito extra - Adicionei o 3DES" />
     <MESSAGE value="fix : working" />
     <MESSAGE value="add : Algoritmos de Hashing SHA-256, SHA-1 e MD5 adicionados" />
-    <option name="LAST_COMMIT_MESSAGE" value="add : Algoritmos de Hashing SHA-256, SHA-1 e MD5 adicionados" />
+    <MESSAGE value="merge dev-Henry" />
+    <option name="LAST_COMMIT_MESSAGE" value="merge dev-Henry" />
+  </component>
+  <component name="XDebuggerManager">
+    <breakpoint-manager>
+      <breakpoints>
+        <line-breakpoint enabled="true" type="java-line">
+          <url>file://$PROJECT_DIR$/src/main/java/Client.java</url>
+          <line>186</line>
+          <option name="timeStamp" value="3" />
+        </line-breakpoint>
+      </breakpoints>
+    </breakpoint-manager>
   </component>
 </project>
\ No newline at end of file
Index: server/Registry/registry.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>Sara : 2\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/server/Registry/registry.txt b/server/Registry/registry.txt
--- a/server/Registry/registry.txt	(revision 8e7b48432ce98f6dc055f4b5b9e68dc394295157)
+++ b/server/Registry/registry.txt	(date 1683715067449)
@@ -1,1 +1,1 @@
-Sara : 2
+Sara : 1
Index: Server_G11/private/privateKey.key
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>��\u0000\u0005sr\u0000\u0014java.security.KeyRep��O����C\u0002\u0000\u0004L\u0000\talgorithmt\u0000\u0012Ljava/lang/String;[\u0000\u0007encodedt\u0000\u0002[BL\u0000\u0006formatq\u0000~\u0000\u0001L\u0000\u0004typet\u0000\u001BLjava/security/KeyRep$Type;xpt\u0000\u0003RSAur\u0000\u0002[B��\u0017�\u0006\bT�\u0002\u0000\u0000xp\u0000\u0000\u0004�0�\u0004�\u0002\u0001\u00000\r\u0006\t*�H��\r\u0001\u0001\u0001\u0005\u0000\u0004�\u0004�0�\u0004�\u0002\u0001\u0000\u0002�\u0001\u0001\u0000�b\u0006z��[��@e�n�`�d��L��:/�F\u001D�V\f�=+\u0005�B�`='a��\u000FC\u001E���\u000E\t�`\u001C�V2��\u001F.�x���U\u001B��,D��\"&��O�,A>L��\u0004m ;���\u00047u\u0016X\u000F�\u0006���\u001A�y��b��\u0010��&�}��TF�?\u0010t������\u001Fh�(��T_t��g\u0011�:���4\u000E]�喌�^\u0011�]r\u0016t\u000B��\u001B'�%S��\u001Dy�<Q\b�Fo\\6@5M^\u0015���\u001E�e�\u000F�\u0005��&�Z��V����;���KF�w=�S�Z\u0015�9�e\u0014�� ^\u001D\u001F�b\u0011i�C�[b����7\u0002\u0003\u0001\u0000\u0001\u0002�\u0001\u0000-!��\u0017���4\u0011q�Y[Qc1�\u001E�u\u000F���\u000E��\t��y\u000F��_x ��\"\u0010\u0016#�hq��\u0000,�\u0012���%3�x�z��R�\u0013\u0019��@\u0011/\u001F�1�D\u0004�mL���x�q�4�\u001F>\"�jYh\u0007��,r�ې�L\u0017�W�1C\u0003��Z\n�C�O�\u001D�\u0019����\n�\u001E/hQ��\u001EMN\u0003�\u001D�E�Չ|Q��s�%�L��v\u0014�p#�C�\u0002�.��\u000F4\u0018t�\u000B�F�?G����/�\u0013yb\u001Dh���LL#��:� 1�� \u0006D�\r��\u0013#\u0015f�yP��Ӣ�X9\u0001�\u0019���\u0017\nE ���l�\u0007�}Љ\u0002��\u0000��b��=j�\u001Eo:��y��l�VR�u4�tG�-����&��P\u001D|\u0013�\u001D��G�#�<�\n�XV7�$-�VD��.e@�\u0007�\u0007s\fr0�\u000B!T�F�`u\u0007�X\u0018%c&U�|��<\u0003�z\f�ն2\u0002�}���݀ ��8���* �@���\u0002��\u0000�\u001B<@#�/<-}�����Tw@^Ãvg\u0000�=�\u0013�\r�ُ�v�\u0014�[4y(-�\u0002�\u0001�\u0014|[\u0001G�b6SY��@�!pH\u00165+��٪�NL�s\bَ���\u0007�\u000B��\u0013�Z��-r\u0002E\u0007��6;~����u/�3�\u000Ej�6�H\u0007jl�\u0002��&����M�&�m\u0013��\u007F\u0013��=[����$�u(�}v�[\u001B�\u0004J��Ļfȭ2���`U��go\u0013Ca�-���M�r8\u0004�E^tz��P\u007F�����yW\u0003\no[;U\u000E#�d\u0380\u0014l�iY���K\"͂����H�\u0010��\f�&���J��\u0003\u0002��n�U����V�\u007F\u0016\f��\u000B*k\rOL\"-�F\u0010oq�.�_\u0018|�\u007F��?K�ϝ�\u001D\u0019����t�K��{���\u001E�X�\b���+^5\u0005�k�f�\u0006��1w�)�9\"��U*m�\u001E�F�|��ў\u0011�otY\u0005�K�7��R�竘9\b�k�{\b�\u0002��z���\u0010?4��ʔ9��A�\u0012��uf�\u0017����?_\u0003\u001E-\u00160�e��������&:��\u0006&��4\u000E�\u0006����n~π�!�f��5\\����̐_�Vc9r��/�n�����\\\u0002�@\u0011[^�\u0017+du+\u0003\n�G\u0010\t\u05CC�\u0004\u0E67��U��Z�jt\u0000\u0006PKCS#8~r\u0000\u0019java.security.KeyRep$Type\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0012\u0000\u0000xr\u0000\u000Ejava.lang.Enum\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0012\u0000\u0000xpt\u0000\u0007PRIVATE
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Server_G11/private/privateKey.key b/Server_G11/private/privateKey.key
--- a/Server_G11/private/privateKey.key	(revision 8e7b48432ce98f6dc055f4b5b9e68dc394295157)
+++ b/Server_G11/private/privateKey.key	(date 1683715043165)
@@ -1,12 +1,12 @@
 �� sr java.security.KeyRep��O����C L 	algorithmt Ljava/lang/String;[ encodedt [BL formatq ~ L typet Ljava/security/KeyRep$Type;xpt RSAur [B���T�  xp  �0�� 0
 	*�H��
- ��0�� � �bz��[��@e�n�`�d��L��:/�F�V�=+�B�`='a��C���	�`�V2��.�x���U��,D��"&��O�,A>L��m ;���7uX�����y��b����&�}��TF�?t������h�(��T_t��g�:���4]�喌�^�]rt��'�%S��y�<Q�Fo\6@5M^����e����&�Z��V����;���KF�w=�S�Z�9�e�� ^�bi�C�[b����7 � -!�����4q�Y[Qc1��u�����	��y��_x ��"#�hq�� ,����%3�x�z��R���@/�1�D�mL���x�q�4�>"�jYh��,r�ې�L�W�1C��Z
-�C�O������
-�/hQ��MN��E�Չ|Q��s�%�L��v�p#�C��.��4t��F�?G����/�ybh���LL#��:� 1�� D�
-��#f�yP��Ӣ�X9����
-E ���l��}Љ�� ��b��=j�o:��y��l�VR�u4�tG�-����&��P|���G�#�<�
-�XV7�$-�VD��.e@��sr0�!T�F�`u�X%c&U�|��<�z�ն2�}���݀ ��8���* �@����� �<@#�/<-}�����Tw@^Ãvg �=��
-�ُ�v��[4y(-���|[G�b6SY��@�!pH5+��٪�NL�sَ�������Z��-rE��6;~����u/�3�j�6�Hjl���&����M�&�m����=[����$�u(�}v�[�J��Ļfȭ2���`U��goCa�-���M�r8�E^tz��P�����yW
-o[;U#�d΀l�iY���K"͂����H����&���J����n�U����V���*k
-OL"-�Foq�.�_|���?K�ϝ�����t�K��{����X����+^5�k�f���1w�)�9"��U*m��F�|��ў�otY�K�7��R�竘9�k�{���z���?4��ʔ9��A���uf�����?_-0�e��������&:��&��4�����n~π�!�f��5\����̐_�Vc9r��/�n�����\�@[^�+du+
-�G	׌�๧��U��Z�jt PKCS#8~r java.security.KeyRep$Type          xr java.lang.Enum          xpt PRIVATE
\ No newline at end of file
+ ��0�� � �͝c�Igl�B���f�K���
+���Ċ�.�����"a1J/�I�|
+�y�ϝr89\{�������᩼ծ�����Sbh�J�Q��Y������驊.6���b�F�x��~��3���������7��ɦ��[�5���J]����������7��Y¼'� x�Uo�8a��XJ>��b���g?ߏ�/���z�(n�B�ŋ�t0���ϙ�:E�*?�,��sU��T��ce�������Xފ$:̸#T� � Y�c���p�J�PY��9t���7�D��~ְDy��1ʆ�� o��
+��^^M�T)�
+���W?��TB��!I\��|폄Iy�R��FP;��>N^{���y�"Aa}�ܣ~Q;X�����s>n#/Q��	ɀ)��i#Œf҄����ª��-�GW�����6�2��e�eF��������K�" ��$������N�4OC&6�QL�݉y����u��s�/3F�Gڝb���膋oe�v���]�)�� ��c���U�#�k.�����Ǟ��A�����-O^��q��j�p�w�p��1�;n3�b(�9V}����:�
+�+�e-���	*�A��ψ2v�wk|��W^�J��Y��5��ǩ���_���8A�� �ߩ���q,����3����[\��[��1{o��Vro˄atU�V)����N�y����pn���V-1M��R0���8��kzg)q(An�����Vh�S
+���ܷ����ʳЍǜ��hv�R5��� ��X�vpJ
+�Lu��w�	y�4W%AFɬ�DOOXt�g�-5�;�vM
+����!������cI��}/�R�v��$ug�2܄��r�z�\6�-I�j
+���6�d�ڌ�.Λ�?)~��B4~FQ}�ݏ�xqD{��`�1��?��O�jB�E�ʕlM;"5!9K#|P�`I�$���\Ɂ�W��	�)=�A��>���Rm�����!_���}������2ݥD�m$5�K���?��Gޑ�8���sT�=(���W%�� �g�8��d�+��<���pe(���Bw��>(˝#G�g��/��5��Ҫ7T�ǋxη�r�{R��$xwW�HQ5V@���iyK�D�Z�u樥��KsȐ׎��E)�m"5#���/B���@絮g�t PKCS#8~r java.security.KeyRep$Type          xr java.lang.Enum          xpt PRIVATE
\ No newline at end of file
Index: src/main/java/ByteUtils.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import java.util.ArrayList;\r\n\r\n/**\r\n * This class contains some useful methods for byte arrays. The methods include splitting a byte array into chunks of\r\n * fixed size, concatenating two byte arrays, and computing the XOR of two byte arrays.\r\n */\r\npublic class ByteUtils {\r\n\r\n\r\n    /**\r\n     * Splits a byte array into chunks of fixed size. The last chunk can be padded if required. In this case, the PKCS\r\n     * #5 is used as padding scheme.\r\n     *\r\n     * @param text      The byte array to be split\r\n     * @param chunkSize The size of the chunks\r\n     *\r\n     * @return An ArrayList of byte arrays, each one of them having the size of chunkSize\r\n     */\r\n    public static ArrayList < byte[] > splitByteArray ( byte[] text , int chunkSize ) {\r\n        ArrayList < byte[] > chunks = new ArrayList <> ( );\r\n        for ( int i = 0 ; i < text.length ; i += chunkSize ) {\r\n            int nElements = Math.min ( chunkSize , text.length - i );\r\n            byte[] chunk = new byte[ nElements ];\r\n            System.arraycopy ( text , i , chunk , 0 , nElements );\r\n            chunks.add ( chunk );\r\n        }\r\n        // Adds padding to the last chunk (if required)\r\n        byte[] lastChunk = chunks.get ( chunks.size ( ) - 1 );\r\n        if ( lastChunk.length < chunkSize ) {\r\n            byte[] paddedChunk = new byte[ chunkSize ];\r\n            System.arraycopy ( lastChunk , 0 , paddedChunk , 0 , lastChunk.length );\r\n            int paddingSize = chunkSize - lastChunk.length;\r\n            for ( int i = 0 ; i < paddingSize ; i++ ) {\r\n                paddedChunk[ lastChunk.length + i ] = ( byte ) paddingSize;\r\n            }\r\n            chunks.set ( chunks.size ( ) - 1 , paddedChunk );\r\n        }\r\n        return chunks;\r\n    }\r\n\r\n\r\n    /**\r\n     * Receives to byte arrays and returns their concatenation.\r\n     *\r\n     * @param op1 The first operand\r\n     * @param op2 The second operand\r\n     *\r\n     * @return The concatenation of the two operands\r\n     */\r\n    public static byte[] concatByteArrays ( byte[] op1 , byte[] op2 ) {\r\n        byte[] newOutput = new byte[ op1.length + op2.length ];\r\n        System.arraycopy ( op1 , 0 , newOutput , 0 , op1.length );\r\n        System.arraycopy ( op2 , 0 , newOutput , op1.length , op2.length );\r\n        return newOutput;\r\n    }\r\n\r\n    /**\r\n     * Computes the XOR of two byte arrays.\r\n     *\r\n     * @param op1 The first operand\r\n     * @param op2 The second operand\r\n     *\r\n     * @return The XOR of the two operands\r\n     */\r\n    public static byte[] computeXOR ( byte[] op1 , byte[] op2 ) {\r\n        byte[] output = new byte[ op1.length ];\r\n        for ( int i = 0 ; i < op1.length ; i++ ) {\r\n            output[ i ] = ( byte ) ( op1[ i ] ^ op2[ i ] );\r\n        }\r\n        return output;\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/ByteUtils.java b/src/main/java/ByteUtils.java
--- a/src/main/java/ByteUtils.java	(revision 8e7b48432ce98f6dc055f4b5b9e68dc394295157)
+++ b/src/main/java/ByteUtils.java	(date 1683714467451)
@@ -37,6 +37,20 @@
         }
         return chunks;
     }
+    public static byte[] removePadding(byte[] message) {
+        // Determine the size of the last chunk
+        int chunkSize = message[message.length - 1];
+
+        // Remove padding from the last chunk (if present)
+        if (chunkSize > 0) {
+            byte[] unpaddedMessage = new byte[message.length - chunkSize];
+            System.arraycopy(message, 0, unpaddedMessage, 0, unpaddedMessage.length);
+            return unpaddedMessage;
+        }
+
+        return message;
+    }
+
 
 
     /**
